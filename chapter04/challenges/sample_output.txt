/**
 * AUTHOR     : PATRICK MWILA
 * DATE       : 22/07/2021
 * DESCRIPTION: A PROGRAM THAT ASKS THE USER FOR THE NAME OF A FILE. 
 *              THE PROGRAM SHOULD DISPLAY THE CONTENTS OF THE FILE WITH EACH 
 *              LINE PRECEDED WITH A LINE NUMBER FOLLOWED BY A COLON. 
 */
// IMPORT ALL CLASSES NEEDED FOR THE PROGRAM.
IMPORT JAVA.UTIL.SCANNER;
IMPORT JAVA.IO.FILE;
IMPORT JAVA.IO.IOEXCEPTION;

PUBLIC CLASS _14_LINENUMBERS
{
    PUBLIC STATIC VOID MAIN(STRING[] ARGS) THROWS IOEXCEPTION
    {
        // CREATE A SCANNER OBJECT TO GET INPUT FROM THE KEYBOARD
        SCANNER KEYBOARD = NEW SCANNER(SYSTEM.IN);

        // PROMPT FOR USER INPUT
        SYSTEM.OUT.PRINT("\NENTER NAME OF A FILE: ");
        STRING USERFILE = KEYBOARD.NEXTLINE();

        // OPEN FILE FOR READING
        FILE FILE = NEW FILE(USERFILE);
        
        // CHECK IF THE FILE EXITS
        IF(!FILE.EXISTS())
        {
            SYSTEM.OUT.PRINTLN("FILE WAS NOT FOUND!");
            SYSTEM.EXIT(0);
        }

        // CREATE A SCANNER OBJECT TO READ INPUT FROM A FILE
        SCANNER INPUTFILE = NEW SCANNER(FILE);

        SYSTEM.OUT.PRINTLN(); // DISPLAY BLANK LINE 
        INT LINENUMBER = 1;   // SET LINE NUMBER INITIAL VALUE

        // READ ALL LINES OF A FILE-DISPLAYING EACH LINE WITH A NUMBER
        WHILE (INPUTFILE.HASNEXT())
        {
            SYSTEM.OUT.PRINTLN( LINENUMBER + ": " + INPUTFILE.NEXTLINE());
            LINENUMBER++;
        }

        SYSTEM.OUT.PRINTLN(); // DISPLAY A BLANK LINE

        INPUTFILE.CLOSE();
        KEYBOARD.CLOSE();  
    }

}
